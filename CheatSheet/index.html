<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>CheatSheet - OARC-Rutgers</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "CheatSheet";
    var mkdocs_page_input_path = "CheatSheet.md";
    var mkdocs_page_url = "/CheatSheet/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> OARC-Rutgers</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      


  
    


<ul class="" href="..">
  
    
    
      <li class=" toctree-l1">
        <a class="" href="..">Home</a>
      </li>
</ul>

<!--
 | This is a hacky way to pass setting from the template generator to the
 | javascript that drives the dropdown functionality
-->
<div style="width: 1px; height: 1px; visibility: none;">

</div>



  
    


<ul class="" href="../guides/Cluster_User_Guide/">
  
    
    
      <li class=" toctree-l1">
        <a class="" href="../guides/Cluster_User_Guide/">Cluster Guides</a>
      </li>
</ul>

<!--
 | This is a hacky way to pass setting from the template generator to the
 | javascript that drives the dropdown functionality
-->
<div style="width: 1px; height: 1px; visibility: none;">

</div>



  
    


<ul class="" href="../guides/Cluster_Examples/">
  
    
    
      <li class=" toctree-l1">
        <a class="" href="../guides/Cluster_Examples/">Examples</a>
      </li>
</ul>

<!--
 | This is a hacky way to pass setting from the template generator to the
 | javascript that drives the dropdown functionality
-->
<div style="width: 1px; height: 1px; visibility: none;">

</div>



  
    
    
    
    
    
    

  <p class="caption">HowTo</p>


<ul class="" href="howtos/jupyter">
  
    
      
<li class=" toctree-l1">
  <a href="../howtos/jupyter/" title="Jupyter"
      class="">
    Jupyter
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../howtos/fastx/" title="FastX"
      class="">
    FastX
  </a>

  
  
</li>
    
</ul>

<!--
 | This is a hacky way to pass setting from the template generator to the
 | javascript that drives the dropdown functionality
-->
<div style="width: 1px; height: 1px; visibility: none;">

</div>



  
    
    
    
    
    
    

  <p class="caption">Workshops</p>


<ul class="" href="workshops/workshop">
  
    
      
<li class=" toctree-l1">
  <a href="../workshops/workshop/" title="Genomics"
      class="">
    Genomics
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../workshops/Labs/" title="Labs"
      class="">
    Labs
  </a>

  
  
</li>
    
</ul>

<!--
 | This is a hacky way to pass setting from the template generator to the
 | javascript that drives the dropdown functionality
-->
<div style="width: 1px; height: 1px; visibility: none;">

</div>



  
    


<ul class="" href="../ressentials/">
  
    
    
      <li class=" toctree-l1">
        <a class="" href="../ressentials/">R tutorial</a>
      </li>
</ul>

<!--
 | This is a hacky way to pass setting from the template generator to the
 | javascript that drives the dropdown functionality
-->
<div style="width: 1px; height: 1px; visibility: none;">

</div>



  
    


<ul class="" href="../resources/">
  
    
    
      <li class=" toctree-l1">
        <a class="" href="../resources/">Resources</a>
      </li>
</ul>

<!--
 | This is a hacky way to pass setting from the template generator to the
 | javascript that drives the dropdown functionality
-->
<div style="width: 1px; height: 1px; visibility: none;">

</div>



  
    


<ul class="current" href="./">
  
    
    
      <li class="current toctree-l1">
        <a class="current" href="./">CheatSheet</a>
        
  
  
  
  
  
  
  <ul class="current subnav">
    
      

  
  
  


  <li class="toctree-l2 toc-item">
    <a href="#bash-cheatsheet-command-line" title="CheatSheet">Bash cheatsheet (command line):</a>
  </li>

    
      

  
  


  <li class="toctree-l2 toc-item">
    <a href="#environment-modules-lmod-cheatsheet" title="CheatSheet">Environment modules (lmod) cheatsheet</a>
  </li>

    
      

  
  


  <li class="toctree-l2 toc-item">
    <a href="#slurm-cheatsheet" title="CheatSheet">Slurm cheatsheet</a>
  </li>

    
      

  
  


  <li class="toctree-l2 toc-item">
    <a href="#check-quota-cheatsheet" title="CheatSheet">Check quota cheatsheet</a>
  </li>

    
      

  
  


  <li class=" toctree-l2">
    
      <a href="#linux-basic-commands" title="CheatSheet"
          class="">
        Linux basic commands
      </a>
    
    <ul class=" subnav">
      
        

  
  


  <li class="toctree-l2 toc-item">
    <a href="#file-tree" title="CheatSheet">File tree</a>
  </li>

      
        

  
  


  <li class="toctree-l2 toc-item">
    <a href="#moving-and-viewing-files" title="CheatSheet">Moving and viewing files</a>
  </li>

      
        

  
  


  <li class="toctree-l2 toc-item">
    <a href="#piping" title="CheatSheet">Piping</a>
  </li>

      
        

  
  


  <li class="toctree-l2 toc-item">
    <a href="#permissions" title="CheatSheet">Permissions</a>
  </li>

      
        

  
  


  <li class="toctree-l2 toc-item">
    <a href="#linux-on-the-web" title="CheatSheet">Linux on the web</a>
  </li>

      
    </ul>
  </li>

    
  </ul>

      </li>
</ul>

<!--
 | This is a hacky way to pass setting from the template generator to the
 | javascript that drives the dropdown functionality
-->
<div style="width: 1px; height: 1px; visibility: none;">

</div>


      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">OARC-Rutgers</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>CheatSheet</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/rutgers-oarc/training/edit/master/docs/CheatSheet.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="bash-cheatsheet-command-line">Bash cheatsheet (command line):</h1>
<table>
<thead>
<tr>
<th align="left">command</th>
<th align="left">description</th>
<th align="left">usage example</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">ls -ltra mydir</td>
<td align="left">list all files in mydir in descending order of creation, with permissions</td>
<td align="left">ls -ltra .</td>
</tr>
<tr>
<td align="left">du</td>
<td align="left">disk usage, e.g. how much space does your directory occupy, -h human-readable</td>
<td align="left">du -h mydir</td>
</tr>
<tr>
<td align="left">which <command></td>
<td align="left">see where command is installed</td>
<td align="left">which python</td>
</tr>
<tr>
<td align="left">pwd</td>
<td align="left">which directory I'm in</td>
<td align="left">pwd</td>
</tr>
<tr>
<td align="left">man <command></td>
<td align="left">manual page for command</td>
<td align="left">man cut</td>
</tr>
<tr>
<td align="left">grep <pattern></td>
<td align="left">filter for lines which fit pattern</td>
<td align="left">cat myfile &#124; grep GATK</td>
</tr>
<tr>
<td align="left">cut -d<delimiter> -f<number></td>
<td align="left">split line by delimiter and get field number 3</td>
<td align="left">cat myfile &#124; cut -d'_' -f3</td>
</tr>
<tr>
<td align="left">sort <file></td>
<td align="left">sort lines, often used with <code>uniq</code></td>
<td align="left">sort myfile &#124; uniq</td>
</tr>
<tr>
<td align="left">uniq</td>
<td align="left">suppress repeated lines, works only if sorted</td>
<td align="left">see above example</td>
</tr>
<tr>
<td align="left">less</td>
<td align="left">paginated output</td>
<td align="left">less myfile</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">redirect output (e.g. list files and save filenames in aaa.txt)</td>
<td align="left">ls &gt; aaa.txt</td>
</tr>
<tr>
<td align="left">&gt;&gt;</td>
<td align="left">append output to existing file</td>
<td align="left">echo "blah" &gt;&gt; aaa.txt</td>
</tr>
<tr>
<td align="left">find</td>
<td align="left">find files with some properties e.g. display all files recursively from current directory</td>
<td align="left"><code>find .</code></td>
</tr>
<tr>
<td align="left">chmod</td>
<td align="left">change permissions on a file or directory, eg. make myscript.sh executable for user</td>
<td align="left">chmod u+x myscript.sh</td>
</tr>
<tr>
<td align="left">top</td>
<td align="left">display most intensive processes</td>
<td align="left"><code>top</code></td>
</tr>
<tr>
<td align="left">ps auxw</td>
<td align="left">list processes</td>
<td align="left"><code>ps auxw</code></td>
</tr>
<tr>
<td align="left">time myscript.sh</td>
<td align="left">measure how much time does myscript.sh take to finish execution</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>echo</code> $variable</td>
<td align="left">output the value of the variable</td>
<td align="left">echo $USER</td>
</tr>
</tbody>
</table>
<p>For a more complete cheatsheet including ifs, loops and functions, see <a href="https://devhints.io/bash">this website</a>
Here is a sample: </p>
<pre><code>dirname /home/kp807/projects/cluster_reports/cluster.csv       # everything but the last part
basename /home/kp807/projects/cluster_reports/cluster.csv      # last part of path
CURRENT_DIR=`pwd` ; echo $CURRENT_DIR                          # backtick for execution of bash command
echo 'projects_cluster_file.csv' | cut -d '_' -f1              # split name to retain a part of file
echo $((1 + 2))                                                # double parenthesis for arithmetic expressions
echo filename_fly{5..10}.csv                                   # list comprehensions   {start..end}

# for-loop: 
for file in filename_fly{5..10}.csv; do  echo $file ; done     

# if-statement - 2 examples
if [ 1 -gt 2 ]; then  echo '1 &gt; 2' ; else echo '1&lt;2' ; fi      
if [ -d &quot;newdir&quot; ]; then  echo 'directory exists' ; else echo 'this directory doesnt exist' ; fi                        
#variable assignment
a=10; echo $a        #good - no spaces
b = 10; echo $b      #bad - spaces around =
</code></pre>

<h1 id="environment-modules-lmod-cheatsheet">Environment modules (lmod) cheatsheet</h1>
<table>
<thead>
<tr>
<th><strong>Command</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>module avail</code></td>
<td>show a list of the core (primary) modules available</td>
</tr>
<tr>
<td><code>module load *module_name*</code></td>
<td>loads the named software module</td>
</tr>
<tr>
<td><code>module use</code> /projects/community/projectsmodule`</td>
<td>Now if you do module avail, it also shows modules created by other users</td>
</tr>
<tr>
<td><code>module spider</code></td>
<td>shows a comprehensive list of all available modules or type name after spider to show details about specific module</td>
</tr>
<tr>
<td><code>module keyword</code></td>
<td>looks for a keyword in the description of a module</td>
</tr>
<tr>
<td><code>module purge</code></td>
<td>removes all loaded module</td>
</tr>
<tr>
<td><code>ml</code></td>
<td>lists modules loaded</td>
</tr>
</tbody>
</table>
<p>To learm more about environments and modules, see <a href="https://lmod.readthedocs.io/en/latest/">lmod documenation</a>. </p>
<h1 id="slurm-cheatsheet">Slurm cheatsheet</h1>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sinfo</code></td>
<td>info about utilization and resources</td>
</tr>
<tr>
<td><code>sbatch my_slurm_script.sh</code></td>
<td>submit a slurm script</td>
</tr>
<tr>
<td><code>srun -N 1 -c 2 -t 1:00:00 --pty bash</code></td>
<td>run interactive shell on a compute node for 1 hour</td>
</tr>
<tr>
<td><code>scancel  123456</code></td>
<td>cancel job 123456 that's currently running or queued</td>
</tr>
<tr>
<td><code>sacct -u kp807 --start=2018-05-02</code></td>
<td>show all jobs by user kp807 since some date</td>
</tr>
<tr>
<td><code>scontrol show job 123456 -dd</code></td>
<td>details about job that's running</td>
</tr>
<tr>
<td><code>scontrol show node hal0001</code></td>
<td>details about node <code>ha0001</code></td>
</tr>
<tr>
<td><code>scontrol --help</code></td>
<td>generic way to invoke quick help on any command</td>
</tr>
<tr>
<td><code>sacct -o MaxRSS,job,jobName,state</code></td>
<td>keep track of how much memory you are using</td>
</tr>
<tr>
<td><code>sacct -o Elapsed,Start,End,job,jobName</code></td>
<td>estimate the wall time</td>
</tr>
</tbody>
</table>
<p>To learn more about slurm, see <a href="https://slurm.schedmd.com/">slurm documentation</a></p>
<h1 id="check-quota-cheatsheet">Check quota cheatsheet</h1>
<p>NOTE: <code>/home</code> and <code>/scratch</code> are two different filesystems, with different backup policies. </p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description of which file usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mmlsquota scratch --block-size=auto</code></td>
<td>file usage on <code>/scratch/netid</code> for the user's netid</td>
</tr>
<tr>
<td><code>mmlsquota home --block-size=auto</code></td>
<td>file usage on <code>/home/netid</code> for the user's netid</td>
</tr>
<tr>
<td><code>mmlsquota home:foran --block-size=auto</code></td>
<td>file usage in the shared folder foran (/projects/foran)</td>
</tr>
<tr>
<td><code>mmlsquota -j foran home  --block-size=auto</code></td>
<td>quota and usage of the whole fileset foran</td>
</tr>
<tr>
<td><code>du -hs /directory/to/query/*</code></td>
<td>human-readable sizes of all 1st-level subdirectories of <code>/directory/to/query/</code></td>
</tr>
</tbody>
</table>
<h1 id="linux-basic-commands">Linux basic commands</h1>
<h2 id="file-tree">File tree</h2>
<table>
<thead>
<tr>
<th align="right"><strong>Command</strong></th>
<th align="center"><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><em>ls</em></td>
<td align="center">list files and directories</td>
</tr>
<tr>
<td align="right"><em>ls -a</em></td>
<td align="center">list all files and directories</td>
</tr>
<tr>
<td align="right"><em>mkdir</em></td>
<td align="center">make a directory</td>
</tr>
<tr>
<td align="right"><em>cd directory</em></td>
<td align="center">change to named directory</td>
</tr>
<tr>
<td align="right"><em>cd</em></td>
<td align="center">change to home-directory</td>
</tr>
<tr>
<td align="right"><em>cd ~</em></td>
<td align="center">change to home-directory</td>
</tr>
<tr>
<td align="right"><em>cd ..</em></td>
<td align="center">change to parent directory</td>
</tr>
<tr>
<td align="right"><em>pwd</em></td>
<td align="center">display the path of the current directory</td>
</tr>
</tbody>
</table>
<h2 id="moving-and-viewing-files">Moving and viewing files</h2>
<table>
<thead>
<tr>
<th align="right"><strong>Command</strong></th>
<th align="left"><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">cp file1 file2</td>
<td align="left">copy file1 and call it file2</td>
</tr>
<tr>
<td align="right">mv file1 file2</td>
<td align="left">move or rename file1 to file2</td>
</tr>
<tr>
<td align="right">rm file</td>
<td align="left">remove a file</td>
</tr>
<tr>
<td align="right">rmdir directory</td>
<td align="left">remove a directory (only if empty)</td>
</tr>
<tr>
<td align="right">cat file</td>
<td align="left">display a file</td>
</tr>
<tr>
<td align="right">less file</td>
<td align="left">display a file a page at a time</td>
</tr>
<tr>
<td align="right">head -19 file</td>
<td align="left">display the first 19 lines of a file</td>
</tr>
<tr>
<td align="right">tail -19 file</td>
<td align="left">display the last 19 lines of a file</td>
</tr>
<tr>
<td align="right">grep Finally myfile.txt</td>
<td align="left">search myfile.txt for word Finally</td>
</tr>
<tr>
<td align="right">wc file</td>
<td align="left">count number of lines/words/characters in file</td>
</tr>
</tbody>
</table>
<h2 id="piping">Piping</h2>
<table>
<thead>
<tr>
<th><strong>Command</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>command &gt; file</td>
<td>redirect standard output to a file</td>
</tr>
<tr>
<td>command &gt;&gt; file</td>
<td>append standard output to a file</td>
</tr>
<tr>
<td>command &lt; file</td>
<td>redirect standard input from a file</td>
</tr>
<tr>
<td><em>command1 &#x7c; command2</em></td>
<td>pipe the output of command1 to the input of command2</td>
</tr>
<tr>
<td>cat file1 file2 &gt; file0</td>
<td>concatenate file1 and file2 to file0</td>
</tr>
<tr>
<td>sort</td>
<td>sort data</td>
</tr>
<tr>
<td>who</td>
<td>list users currently logged in</td>
</tr>
<tr>
<td>*</td>
<td>match any number of characters</td>
</tr>
<tr>
<td>?</td>
<td>match one character</td>
</tr>
<tr>
<td>man command</td>
<td>read the online manual page for a command</td>
</tr>
<tr>
<td>whatis command</td>
<td>brief description of a command</td>
</tr>
<tr>
<td>apropos keyword</td>
<td>match commands with keyword in their man pages</td>
</tr>
</tbody>
</table>
<h2 id="permissions">Permissions</h2>
<table>
<thead>
<tr>
<th><strong>Symbol</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>u</td>
<td>user</td>
</tr>
<tr>
<td>g</td>
<td>group</td>
</tr>
<tr>
<td>o</td>
<td>other</td>
</tr>
<tr>
<td>a</td>
<td>all</td>
</tr>
<tr>
<td>r</td>
<td>read</td>
</tr>
<tr>
<td>w</td>
<td>write (and delete)</td>
</tr>
<tr>
<td>x</td>
<td>execute (and access directory)</td>
</tr>
<tr>
<td>u+x</td>
<td>add executing permission for user</td>
</tr>
<tr>
<td>u-x</td>
<td>take away executing permission</td>
</tr>
</tbody>
</table>
<p>Output of <code>ls -ltra</code><br />
<code>drwxr-x--x  12 kp807 kp807      4096 Jun 26 23:33 .rstudio</code></p>
<ul>
<li>d = it's a directory</li>
<li>rwx = first group of permissions, readable, writeable and executable by user</li>
<li>r-x = second group of permissions, readable and executable by group, but not writeable by group</li>
<li>r-x = third group of permissions, executable by others, but not readable and writeable by others</li>
<li>.rstudio = hidden directory</li>
</ul>
<h2 id="linux-on-the-web">Linux on the web</h2>
<ul>
<li><a href="http://www.rci.rutgers.edu/~gc563/linux/index.html">Galen's tutorial</a></li>
<li><a href="http://www.ee.surrey.ac.uk/Teaching/Unix/">Excellent short lessons</a></li>
<li><a href="http://linuxcourse.rutgers.edu/">Alexei's course he runs for engineering students every semester</a></li>
<li><a href="https://cvw.cac.cornell.edu/Linux/">Cornell virtual workshop</a> - interactive if you have xsede login; many HPC topics available</li>
<li><a href="https://software-carpentry.org/lessons/">Software carpentry</a> - list of introductory programming courses</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../resources/" class="btn btn-neutral" title="Resources"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/rutgers-oarc/training/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../resources/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
